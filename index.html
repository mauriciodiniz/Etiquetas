<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Etiquetas T√©rmicas - 88ml Delivery</title>
    <link rel="icon" type="image/png" href="etiqueta-peso.png">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: Arial, sans-serif;
            background: #f5f5f5;
            padding-bottom: 70px;
        }

        .container {
            max-width: 500px;
            margin: 0 auto;
            padding: 20px;
            background: white;
            min-height: calc(100vh - 70px);
        }

        h1 {
            text-align: center;
            color: #333;
            margin-bottom: 25px;
            font-size: 24px;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        .form-group {
            margin-bottom: 20px;
        }

        label {
            display: block;
            margin-bottom: 5px;
            color: #555;
            font-weight: bold;
            font-size: 14px;
        }

        input[type="text"],
        input[type="number"] {
            width: 100%;
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 6px;
            font-size: 16px;
            transition: border-color 0.3s;
        }

        input[type="text"]:focus,
        input[type="number"]:focus {
            outline: none;
            border-color: #4CAF50;
        }

        .radio-group {
            display: flex;
            flex-direction: column;
            gap: 10px;
            margin-top: 8px;
        }

        .radio-option {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        input[type="radio"] {
            width: 18px;
            height: 18px;
            cursor: pointer;
        }

        .radio-option label {
            margin: 0;
            font-weight: normal;
            cursor: pointer;
        }

        #outroCorteInput {
            margin-top: 10px;
            display: none;
        }

        .total-display {
            background: #f0f0f0;
            padding: 15px;
            border-radius: 6px;
            font-size: 18px;
            font-weight: bold;
            color: #333;
            text-align: center;
        }

        .btn-imprimir {
            width: 100%;
            padding: 15px;
            background: #4CAF50;
            color: white;
            border: none;
            border-radius: 6px;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            margin-top: 20px;
            transition: background 0.3s;
        }

        .btn-imprimir:hover {
            background: #45a049;
        }

        .btn-imprimir:active {
            transform: scale(0.98);
        }

        .footer-tabs {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: white;
            display: flex;
            box-shadow: 0 -2px 10px rgba(0,0,0,0.1);
        }

        .tab-button {
            flex: 1;
            padding: 18px;
            background: #f5f5f5;
            border: none;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            color: #666;
        }

        .tab-button.active {
            background: #4CAF50;
            color: white;
        }

        /* Estilos de impress√£o */
        @media print {
            body {
                background: white;
                padding: 0;
            }

            .container,
            .footer-tabs {
                display: none !important;
            }

            .etiqueta {
                display: none !important;
            }

            .etiqueta.printing {
                display: block !important;
            }
        }

        .etiqueta {
            display: none;
            width: 50mm;
            padding: 2mm;
            font-family: 'Roboto Mono', monospace;
            font-size: 8pt;
            line-height: 1.2;
            margin-bottom: 3mm;  /* Adicione esta linha */
            page-break-after: always;
            
        }

        .etiqueta-header {
            text-align: center;
            font-size: 7pt;
            margin-bottom: 1mm;
        }

        .etiqueta-divider {
            border-top: 1px dashed #000;
            margin: 1mm 0;
        }

        .etiqueta-produto {
            font-size: 10pt;
            font-weight: bold;
            margin: 1mm 0;
            text-align: center;
        }

        .etiqueta-info {
            font-size: 8pt;
            margin: 0.5mm 0;
        }

        .etiqueta-total {
            font-size: 13pt;
            font-weight: bold;
            margin: 1mm 0;
            display: flex;
            align-items: baseline;
            justify-content: flex-start;
            flex-wrap: nowrap;
        }

        .etiqueta-total span {
            white-space: nowrap;
            font-weight: bold;
        }

        .etiqueta-footer {
            text-align: center;
            font-size: 6pt;
            margin-top: 1mm;
        }

        @media (max-width: 480px) {
            .etiqueta {
                width: 100%;
                max-width: 50mm;
                margin: 10px auto;
            }
        }

                .etiqueta-total {
            font-size: 10pt;
            font-weight: bold;
            margin: 1mm 0;
            display: flex;
            align-items: baseline;
            justify-content: flex-start;
            flex-wrap: nowrap;
            gap: 2mm;
        }

        .etiqueta-total-label {
            font-family: 'Roboto Mono', monospace;
            font-size: 8pt;
            font-weight: bold;
            white-space: nowrap;
        }

        .etiqueta-total-valor {
            font-family: 'IBM Plex Mono', monospace;
            font-size: 16pt;
            font-weight: bold;
            white-space: nowrap;
        }

    </style>
</head>
<body>
    <div class="container">
        <h1>üè∑Ô∏è Etiquetas T√©rmicas</h1>

        <!-- ABA KG -->
        <div id="tabKg" class="tab-content active">
            <div class="form-group">
                <label>CORTE:</label>
                <div class="radio-group">
                    <div class="radio-option">
                        <input type="radio" id="picanha" name="corte" value="Picanha" checked>
                        <label for="picanha">Picanha</label>
                    </div>
                    <div class="radio-option">
                        <input type="radio" id="ancho" name="corte" value="Ancho">
                        <label for="ancho">Ancho</label>
                    </div>
                    <div class="radio-option">
                        <input type="radio" id="chorizo" name="corte" value="Chorizo">
                        <label for="chorizo">Chorizo</label>
                    </div>
                    <div class="radio-option">
                        <input type="radio" id="outro" name="corte" value="Outro">
                        <label for="outro">Outro</label>
                    </div>
                </div>
                <input type="text" id="outroCorteInput" placeholder="Digite o nome do corte">
            </div>

            <div class="form-group">
                <label>DESCRI√á√ÉO/MARCA:</label>
                <input type="text" id="descricaoKg" placeholder="Ex: Premium, Angus, etc.">
            </div>

            <div class="form-group">
                <label>PESO (Kg):</label>
                <input type="text" id="peso" placeholder="0,000" maxlength="7">
            </div>

            <div class="form-group">
                <label>R$/KG:</label>
                <input type="text" id="precoKg" placeholder="R$ 0,00">
            </div>

            <div class="form-group">
                <label>TOTAL:</label>
                <div class="total-display" id="totalKg">R$ 0,00</div>
            </div>

            <button class="btn-imprimir" onclick="imprimirEtiquetaKg()">üñ®Ô∏è IMPRIMIR</button>
        </div>

        <!-- ABA PE√áA -->
        <div id="tabPeca" class="tab-content">
            <div class="form-group">
                <label>DESCRI√á√ÉO/MARCA:</label>
                <input type="text" id="descricaoPeca" placeholder="Ex: Costela Bovina, Lingui√ßa, etc.">
            </div>

            <div class="form-group">
                <label>PRE√áO UN:</label>
                <input type="text" id="totalPeca" placeholder="R$ 0,00">
            </div>

            <button class="btn-imprimir" onclick="imprimirEtiquetaPeca()">üñ®Ô∏è IMPRIMIR</button>
        </div>
    </div>

    <!-- Etiqueta para impress√£o KG -->
    <div class="etiqueta" id="etiquetaKg">
        <div class="etiqueta-header">
            <div><strong>88ml Delivery Ltda</strong></div>
            <div>CNPJ: 61.615.703/0001-19</div>
        </div>
        <div class="etiqueta-divider"></div>
        <div class="etiqueta-produto" id="printProdutoKg"></div>
        <div class="etiqueta-info">PESO (KG): <span id="printPeso"></span></div>
        <div class="etiqueta-info">R$/KG: <span id="printPrecoKg"></span></div>
        <div class="etiqueta-total">
            <span class="etiqueta-total-label">TOTAL:</span>
            <span class="etiqueta-total-valor" id="printTotalKg"></span>
        </div>
        <div class="etiqueta-divider"></div>
        <div class="etiqueta-footer">
            <div>Os melhores cortes para o seu Churrasco!</div>
            <div>Pe√ßa agora: (35) 9 9965-8021</div>
        </div>
    </div>

    <!-- Etiqueta para impress√£o PE√áA -->
    <div class="etiqueta" id="etiquetaPeca">
        <div class="etiqueta-header">
            <div><strong>88ml Delivery Ltda</strong></div>
            <div>CNPJ: 00.000.000-0000/00</div>
        </div>
        <div class="etiqueta-divider"></div>
        <div class="etiqueta-produto" id="printProdutoPeca"></div>
        <div class="etiqueta-total">
            <span class="etiqueta-total-label">PRE√áO UN:</span>
            <span class="etiqueta-total-valor" id="printTotalPeca"></span>
        </div>
        <div class="etiqueta-divider"></div>
        <div class="etiqueta-footer">
            <div>Os melhores cortes para o seu Churrasco!</div>
            <div>Pe√ßa agora: (35) 9 9965-8021</div>
        </div>
    </div>

    <!-- Rodap√© com abas -->
    <div class="footer-tabs">
        <button class="tab-button active" onclick="mudarAba('kg')">KG</button>
        <button class="tab-button" onclick="mudarAba('peca')">PE√áA</button>
    </div>

    <script>
        // Controle de abas
        function mudarAba(aba) {
            const tabs = document.querySelectorAll('.tab-content');
            const buttons = document.querySelectorAll('.tab-button');
            
            tabs.forEach(tab => tab.classList.remove('active'));
            buttons.forEach(btn => btn.classList.remove('active'));
            
            if (aba === 'kg') {
                document.getElementById('tabKg').classList.add('active');
                buttons[0].classList.add('active');
            } else {
                document.getElementById('tabPeca').classList.add('active');
                buttons[1].classList.add('active');
            }
        }

        // Controle do campo "Outro corte"
        document.querySelectorAll('input[name="corte"]').forEach(radio => {
            radio.addEventListener('change', function() {
                const outroInput = document.getElementById('outroCorteInput');
                if (this.value === 'Outro') {
                    outroInput.style.display = 'block';
                } else {
                    outroInput.style.display = 'none';
                }
            });
        });

        // M√°scara de peso (0,000)
        document.getElementById('peso').addEventListener('input', function(e) {
            let valor = e.target.value.replace(/\D/g, '');
            if (valor.length > 6) valor = valor.slice(0, 6);
            
            if (valor.length > 0) {
                valor = valor.padStart(4, '0');
                const inteiro = valor.slice(0, -3).replace(/^0+/, '') || '0';
                const decimal = valor.slice(-3);
                valor = inteiro + ',' + decimal;
            }
            
            e.target.value = valor;
            calcularTotalKg();
        });

        // M√°scara de dinheiro
        function aplicarMascaraDinheiro(input) {
            input.addEventListener('input', function(e) {
                let valor = e.target.value.replace(/\D/g, '');
                if (valor.length > 0) {
                    valor = valor.padStart(3, '0');
                    const inteiro = valor.slice(0, -2).replace(/^0+/, '') || '0';
                    const decimal = valor.slice(-2);
                    valor = 'R$ ' + inteiro.replace(/\B(?=(\d{3})+(?!\d))/g, '.') + ',' + decimal;
                }
                e.target.value = valor;
                
                if (e.target.id === 'precoKg') {
                    calcularTotalKg();
                }
            });
        }

        aplicarMascaraDinheiro(document.getElementById('precoKg'));
        aplicarMascaraDinheiro(document.getElementById('totalPeca'));

        // Calcular total KG
        function calcularTotalKg() {
            const peso = parseFloat(document.getElementById('peso').value.replace(',', '.')) || 0;
            const preco = parseFloat(document.getElementById('precoKg').value.replace('R$ ', '').replace('.', '').replace(',', '.')) || 0;
            const total = peso * preco;
            
            document.getElementById('totalKg').textContent = 'R$ ' + total.toFixed(2).replace('.', ',').replace(/\B(?=(\d{3})+(?!\d))/g, '.');
        }

        // Fun√ß√£o melhorada para impress√£o mobile
function imprimirEtiqueta(tipo) {
    const isMobile = /iPhone|iPad|iPod|Android/i.test(navigator.userAgent);
    
    if (isMobile) {
        // Em mobile, usar m√©todo alternativo
        const etiqueta = tipo === 'kg' ? document.getElementById('etiquetaKg') : document.getElementById('etiquetaPeca');
        const conteudo = etiqueta.innerHTML;
        
        // Criar uma nova janela/aba
        const novaJanela = window.open('', '', 'width=800,height=600');
        novaJanela.document.write(`
            <!DOCTYPE html>
            <html>
            <head>
                <meta charset="UTF-8">
                <style>
                    body { margin: 0; padding: 10mm; }
                    .etiqueta {
                        width: 50mm;
                        padding: 2mm;
                        font-family: 'Roboto Mono', monospace;
                        font-size: 8pt;
                        line-height: 1.2;
                        margin-bottom: 3mm;
                        page-break-after: always;
                    }
                    .etiqueta-header { text-align: center; font-size: 7pt; margin-bottom: 1mm; }
                    .etiqueta-divider { border-top: 1px dashed #000; margin: 1mm 0; }
                    .etiqueta-produto { font-size: 10pt; font-weight: bold; margin: 1mm 0; text-align: center; }
                    .etiqueta-info { font-size: 8pt; margin: 0.5mm 0; }
                    .etiqueta-total { 
                        font-size: 10pt; 
                        font-weight: bold; 
                        margin: 1mm 0; 
                        display: flex;
                        align-items: baseline;
                        justify-content: flex-start;
                        flex-wrap: nowrap;
                        gap: 2mm;
                    }
                    .etiqueta-total-label { 
                        font-family: 'Roboto Mono', monospace; 
                        font-size: 8pt; 
                        font-weight: bold; 
                        white-space: nowrap; 
                    }
                    .etiqueta-total-valor { 
                        font-family: 'IBM Plex Mono', monospace; 
                        font-size: 16pt; 
                        font-weight: bold; 
                        white-space: nowrap; 
                    }
                    .etiqueta-footer { text-align: center; font-size: 6pt; margin-top: 1mm; }
                </style>
            </head>
            <body>
                <div class="etiqueta">${conteudo}</div>
            </body>
            </html>
        `);
        novaJanela.document.close();
        
        setTimeout(() => {
            novaJanela.print();
        }, 500);
    } else {
        // Desktop: usar m√©todo original
        const etiqueta = tipo === 'kg' ? document.getElementById('etiquetaKg') : document.getElementById('etiquetaPeca');
        etiqueta.classList.add('printing');
        window.print();
        etiqueta.classList.remove('printing');
    }
}

// Substitua as fun√ß√µes originais:
function imprimirEtiquetaKg() {
    const corteRadio = document.querySelector('input[name="corte"]:checked');
    let corte = corteRadio.value;
    if (corte === 'Outro') {
        corte = document.getElementById('outroCorteInput').value || 'Outro';
    }
    
    const descricao = document.getElementById('descricaoKg').value;
    const peso = document.getElementById('peso').value;
    const precoKg = document.getElementById('precoKg').value;
    const total = document.getElementById('totalKg').textContent;
    
    document.getElementById('printProdutoKg').textContent = corte + (descricao ? ' - ' + descricao : '');
    document.getElementById('printPeso').textContent = peso + ' Kg';
    document.getElementById('printPrecoKg').textContent = precoKg;
    document.getElementById('printTotalKg').textContent = total;
    
    imprimirEtiqueta('kg');
}

function imprimirEtiquetaPeca() {
    const descricao = document.getElementById('descricaoPeca').value;
    const total = document.getElementById('totalPeca').value;
    
    document.getElementById('printProdutoPeca').textContent = descricao;
    document.getElementById('printTotalPeca').textContent = total;
    
    imprimirEtiqueta('peca');
}
    </script>
</body>
</html>