<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Etiquetas T√©rmicas - 88ml Delivery</title>
    <link rel="icon" type="image/png" href="etiqueta-peso.png">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: Arial, sans-serif;
            background: #f5f5f5;
            padding-bottom: 70px;
        }

        .container {
            max-width: 500px;
            margin: 0 auto;
            padding: 20px;
            background: white;
            min-height: calc(100vh - 70px);
        }

        h1 {
            text-align: center;
            color: #333;
            margin-bottom: 25px;
            font-size: 24px;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        .form-group {
            margin-bottom: 20px;
        }

        label {
            display: block;
            margin-bottom: 5px;
            color: #555;
            font-weight: bold;
            font-size: 14px;
        }

        input[type="text"],
        input[type="number"] {
            width: 100%;
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 6px;
            font-size: 16px;
            transition: border-color 0.3s;
        }

        input[type="text"]:focus,
        input[type="number"]:focus {
            outline: none;
            border-color: #4CAF50;
        }

        .radio-group {
            display: flex;
            flex-direction: column;
            gap: 10px;
            margin-top: 8px;
        }

        .radio-option {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        input[type="radio"] {
            width: 18px;
            height: 18px;
            cursor: pointer;
        }

        .radio-option label {
            margin: 0;
            font-weight: normal;
            cursor: pointer;
        }

        #outroCorteInput {
            margin-top: 10px;
            display: none;
        }

        .total-display {
            background: #f0f0f0;
            padding: 15px;
            border-radius: 6px;
            font-size: 18px;
            font-weight: bold;
            color: #333;
            text-align: center;
        }

        .btn-imprimir {
            width: 100%;
            padding: 15px;
            background: #4CAF50;
            color: white;
            border: none;
            border-radius: 6px;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            margin-top: 20px;
            transition: background 0.3s;
        }

        .btn-imprimir:hover {
            background: #45a049;
        }

        .btn-imprimir:active {
            transform: scale(0.98);
        }

        .footer-tabs {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: white;
            display: flex;
            box-shadow: 0 -2px 10px rgba(0,0,0,0.1);
        }

        .tab-button {
            flex: 1;
            padding: 18px;
            background: #f5f5f5;
            border: none;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            color: #666;
        }

        .tab-button.active {
            background: #4CAF50;
            color: white;
        }

        .preview-area {
            margin-top: 20px;
            padding: 15px;
            background: #f9f9f9;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-family: 'Courier New', monospace;
            font-size: 12px;
            white-space: pre-wrap;
            display: none;
        }

        .preview-area.show {
            display: block;
        }

        .info-box {
            background: #e3f2fd;
            padding: 12px;
            border-radius: 6px;
            margin-bottom: 20px;
            font-size: 13px;
            color: #1976d2;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üè∑Ô∏è Etiquetas T√©rmicas</h1>

        <div class="info-box">
            üí° <strong>Instru√ß√µes:</strong> Preencha os campos e clique em IMPRIMIR. Se a impress√£o n√£o funcionar automaticamente, copie o texto da pr√©via e cole no app da sua impressora t√©rmica.
        </div>

        <!-- ABA KG -->
        <div id="tabKg" class="tab-content active">
            <div class="form-group">
                <label>CORTE:</label>
                <div class="radio-group">
                    <div class="radio-option">
                        <input type="radio" id="picanha" name="corte" value="Picanha" checked>
                        <label for="picanha">Picanha</label>
                    </div>
                    <div class="radio-option">
                        <input type="radio" id="ancho" name="corte" value="Ancho">
                        <label for="ancho">Ancho</label>
                    </div>
                    <div class="radio-option">
                        <input type="radio" id="chorizo" name="corte" value="Chorizo">
                        <label for="chorizo">Chorizo</label>
                    </div>
                    <div class="radio-option">
                        <input type="radio" id="outro" name="corte" value="Outro">
                        <label for="outro">Outro</label>
                    </div>
                </div>
                <input type="text" id="outroCorteInput" placeholder="Digite o nome do corte">
            </div>

            <div class="form-group">
                <label>DESCRI√á√ÉO/MARCA:</label>
                <input type="text" id="descricaoKg" placeholder="Ex: Premium, Angus, etc.">
            </div>

            <div class="form-group">
                <label>PESO (Kg):</label>
                <input type="text" id="peso" placeholder="0,000" maxlength="7">
            </div>

            <div class="form-group">
                <label>R$/KG:</label>
                <input type="text" id="precoKg" placeholder="R$ 0,00">
            </div>

            <div class="form-group">
                <label>TOTAL:</label>
                <div class="total-display" id="totalKg">R$ 0,00</div>
            </div>

            <button class="btn-imprimir" onclick="imprimirEtiquetaKg()">üñ®Ô∏è IMPRIMIR</button>
            
            <div class="preview-area" id="previewKg"></div>
        </div>

        <!-- ABA PE√áA -->
        <div id="tabPeca" class="tab-content">
            <div class="form-group">
                <label>DESCRI√á√ÉO/MARCA:</label>
                <input type="text" id="descricaoPeca" placeholder="Ex: Costela Bovina, Lingui√ßa, etc.">
            </div>

            <div class="form-group">
                <label>PRE√áO UN:</label>
                <input type="text" id="totalPeca" placeholder="R$ 0,00">
            </div>

            <button class="btn-imprimir" onclick="imprimirEtiquetaPeca()">üñ®Ô∏è IMPRIMIR</button>
            
            <div class="preview-area" id="previewPeca"></div>
        </div>
    </div>

    <!-- Rodap√© com abas -->
    <div class="footer-tabs">
        <button class="tab-button active" onclick="mudarAba('kg')">KG</button>
        <button class="tab-button" onclick="mudarAba('peca')">PE√áA</button>
    </div>

    <script>
        // Controle de abas
        function mudarAba(aba) {
            const tabs = document.querySelectorAll('.tab-content');
            const buttons = document.querySelectorAll('.tab-button');
            
            tabs.forEach(tab => tab.classList.remove('active'));
            buttons.forEach(btn => btn.classList.remove('active'));
            
            if (aba === 'kg') {
                document.getElementById('tabKg').classList.add('active');
                buttons[0].classList.add('active');
            } else {
                document.getElementById('tabPeca').classList.add('active');
                buttons[1].classList.add('active');
            }
        }

        // Controle do campo "Outro corte"
        document.querySelectorAll('input[name="corte"]').forEach(radio => {
            radio.addEventListener('change', function() {
                const outroInput = document.getElementById('outroCorteInput');
                if (this.value === 'Outro') {
                    outroInput.style.display = 'block';
                } else {
                    outroInput.style.display = 'none';
                }
            });
        });

        // M√°scara de peso (0,000)
        document.getElementById('peso').addEventListener('input', function(e) {
            let valor = e.target.value.replace(/\D/g, '');
            if (valor.length > 6) valor = valor.slice(0, 6);
            
            if (valor.length > 0) {
                valor = valor.padStart(4, '0');
                const inteiro = valor.slice(0, -3).replace(/^0+/, '') || '0';
                const decimal = valor.slice(-3);
                valor = inteiro + ',' + decimal;
            }
            
            e.target.value = valor;
            calcularTotalKg();
        });

        // M√°scara de dinheiro
        function aplicarMascaraDinheiro(input) {
            input.addEventListener('input', function(e) {
                let valor = e.target.value.replace(/\D/g, '');
                if (valor.length > 0) {
                    valor = valor.padStart(3, '0');
                    const inteiro = valor.slice(0, -2).replace(/^0+/, '') || '0';
                    const decimal = valor.slice(-2);
                    valor = 'R$ ' + inteiro.replace(/\B(?=(\d{3})+(?!\d))/g, '.') + ',' + decimal;
                }
                e.target.value = valor;
                
                if (e.target.id === 'precoKg') {
                    calcularTotalKg();
                }
            });
        }

        aplicarMascaraDinheiro(document.getElementById('precoKg'));
        aplicarMascaraDinheiro(document.getElementById('totalPeca'));

        // Calcular total KG
        function calcularTotalKg() {
            const peso = parseFloat(document.getElementById('peso').value.replace(',', '.')) || 0;
            const preco = parseFloat(document.getElementById('precoKg').value.replace('R$ ', '').replace('.', '').replace(',', '.')) || 0;
            const total = peso * preco;
            
            document.getElementById('totalKg').textContent = 'R$ ' + total.toFixed(2).replace('.', ',').replace(/\B(?=(\d{3})+(?!\d))/g, '.');
        }

        // Centralizar texto
        function centralizarTexto(texto, largura = 32) {
            const espacos = Math.max(0, Math.floor((largura - texto.length) / 2));
            return ' '.repeat(espacos) + texto;
        }

        // Criar linha tracejada
        function linhaDivisoria(largura = 32) {
            return '-'.repeat(largura);
        }

        // Imprimir etiqueta KG
        function imprimirEtiquetaKg() {
            const corteRadio = document.querySelector('input[name="corte"]:checked');
            let corte = corteRadio.value;
            if (corte === 'Outro') {
                corte = document.getElementById('outroCorteInput').value || 'Outro';
            }
            
            const descricao = document.getElementById('descricaoKg').value;
            const peso = document.getElementById('peso').value;
            const precoKg = document.getElementById('precoKg').value;
            const total = document.getElementById('totalKg').textContent;

            // Montar texto da etiqueta
            let textoEtiqueta = '\n';
            textoEtiqueta += centralizarTexto('88ml Delivery Ltda') + '\n';
            textoEtiqueta += centralizarTexto('CNPJ: 00.000.000-0000/00') + '\n';
            textoEtiqueta += linhaDivisoria() + '\n';
            textoEtiqueta += centralizarTexto(corte + (descricao ? ' - ' + descricao : '')) + '\n';
            textoEtiqueta += 'PESO (KG): ' + peso + ' Kg\n';
            textoEtiqueta += 'R$/KG: ' + precoKg + '\n';
            textoEtiqueta += 'TOTAL: ' + total + '\n';
            textoEtiqueta += linhaDivisoria() + '\n';
            textoEtiqueta += centralizarTexto('Os melhores cortes') + '\n';
            textoEtiqueta += centralizarTexto('para o seu Churrasco!') + '\n';
            textoEtiqueta += centralizarTexto('Peca agora:') + '\n';
            textoEtiqueta += centralizarTexto('(35) 9 9965-8021') + '\n';
            textoEtiqueta += '\n\n\n';

            // Mostrar preview
            const preview = document.getElementById('previewKg');
            preview.textContent = textoEtiqueta;
            preview.classList.add('show');

            // Tentar imprimir
            tentarImprimir(textoEtiqueta);
        }

        // Imprimir etiqueta PE√áA
        function imprimirEtiquetaPeca() {
            const descricao = document.getElementById('descricaoPeca').value;
            const total = document.getElementById('totalPeca').value;

            // Montar texto da etiqueta
            let textoEtiqueta = '\n';
            textoEtiqueta += centralizarTexto('88ml Delivery Ltda') + '\n';
            textoEtiqueta += centralizarTexto('CNPJ: 00.000.000-0000/00') + '\n';
            textoEtiqueta += linhaDivisoria() + '\n';
            textoEtiqueta += centralizarTexto(descricao) + '\n';
            textoEtiqueta += 'PRECO UN: ' + total + '\n';
            textoEtiqueta += linhaDivisoria() + '\n';
            textoEtiqueta += centralizarTexto('Os melhores cortes') + '\n';
            textoEtiqueta += centralizarTexto('para o seu Churrasco!') + '\n';
            textoEtiqueta += centralizarTexto('Peca agora:') + '\n';
            textoEtiqueta += centralizarTexto('(35) 9 9965-8021') + '\n';
            textoEtiqueta += '\n\n\n';

            // Mostrar preview
            const preview = document.getElementById('previewPeca');
            preview.textContent = textoEtiqueta;
            preview.classList.add('show');

            // Tentar imprimir
            tentarImprimir(textoEtiqueta);
        }

        // Tentar imprimir (fallback para window.print)
        function tentarImprimir(texto) {
            // Criar elemento tempor√°rio para impress√£o
            const printContent = document.createElement('div');
            printContent.style.fontFamily = 'Courier New, monospace';
            printContent.style.fontSize = '12px';
            printContent.style.whiteSpace = 'pre';
            printContent.style.padding = '10px';
            printContent.textContent = texto;

            const printWindow = window.open('', '', 'width=300,height=400');
            printWindow.document.write('<html><head><title>Imprimir Etiqueta</title>');
            printWindow.document.write('<style>body{font-family: Courier New, monospace; font-size: 12px; white-space: pre; margin: 10px;}</style>');
            printWindow.document.write('</head><body>');
            printWindow.document.write(texto.replace(/\n/g, '<br>'));
            printWindow.document.write('</body></html>');
            printWindow.document.close();
            
            setTimeout(() => {
                printWindow.print();
                printWindow.close();
            }, 250);
        }
    </script>
</body>
</html>